create table CHOICE (id bigint generated by default as identity, IS_CORRECT char(255), TEXT varchar(255), primary key (id));
create table EXAM (ID bigint generated by default as identity, DESCRIPTION varchar(1000), IS_DELETED char(255), NAME varchar(255) unique, PASSING_SCORE integer, TIME_MINUTES integer, section_id bigint, primary key (ID));
create table EXAM_RESULT (RESULT_ID varchar(255) not null, END_TIME timestamp, PASSED char(255), SCORE integer, START_TIME timestamp, USER_ID bigint, exam_ID bigint, primary key (RESULT_ID));
create table EXAM_RESULT_QUESTION_ANSWERS (EXAM_RESULT_RESULT_ID varchar(255) not null, answers_ANSWER_ID varchar(255) not null, primary key (EXAM_RESULT_RESULT_ID, answers_ANSWER_ID), unique (answers_ANSWER_ID));
create table QUESTION (id bigint generated by default as identity, TEXT varchar(2000), RANDOM_ORDER_CHOICES char(255), POINTVALUE integer, QUESTION_NUMBER integer, primary key (id));
create table QUESTION_ANSWERS (ANSWER_ID varchar(255) not null, QUESTION_ID bigint, CHOICE_ID bigint, primary key (ANSWER_ID));
create table QUESTION_CHOICE (QUESTION_id bigint not null, choices_id bigint not null, unique (choices_id));
create table SECTION (id bigint generated by default as identity, DESCRIPTION varchar(1000), NAME varchar(255), primary key (id));
create table SECTION_QUESTION (SECTION_id bigint not null, questions_id bigint not null, unique (questions_id));
create table SECTION_SECTION (SECTION_id bigint not null, sections_id bigint not null, unique (sections_id));
create table USER (id bigint generated by default as identity, CONFIRMED char(255), EMAIL varchar(255) unique, FIRST_NAME varchar(255), LAST_NAME varchar(255), PASSWORD varchar(255), USER_NAME varchar(255) unique, primary key (id));
create table USER_ROLE (id bigint generated by default as identity, ROLE_NAME varchar(255) unique, primary key (id));
create table USER_ROLE_MAPPING (USER_ID bigint not null, roles_id bigint not null, primary key (USER_ID, roles_id));
alter table EXAM add constraint FK20B01F7871D45D foreign key (section_id) references SECTION;
alter table EXAM_RESULT add constraint FK304E783DE25EEF77 foreign key (exam_ID) references EXAM;
alter table EXAM_RESULT add constraint FK304E783D287C3FF7 foreign key (USER_ID) references USER;
alter table EXAM_RESULT_QUESTION_ANSWERS add constraint FK575E9CBE3BA81C74 foreign key (EXAM_RESULT_RESULT_ID) references EXAM_RESULT;
alter table EXAM_RESULT_QUESTION_ANSWERS add constraint FK575E9CBEB150A772 foreign key (answers_ANSWER_ID) references QUESTION_ANSWERS;
alter table QUESTION_ANSWERS add constraint FK7A21D0FCF97AD4F7 foreign key (CHOICE_ID) references CHOICE;
alter table QUESTION_ANSWERS add constraint FK7A21D0FC2EFC2F97 foreign key (QUESTION_ID) references QUESTION;
alter table QUESTION_CHOICE add constraint FK3890141AE6E00E06 foreign key (choices_id) references CHOICE;
alter table QUESTION_CHOICE add constraint FK3890141A2EFC2F97 foreign key (QUESTION_id) references QUESTION;
alter table SECTION_QUESTION add constraint FK3BA1A020EB4DDCD0 foreign key (questions_id) references QUESTION;
alter table SECTION_QUESTION add constraint FK3BA1A0207871D45D foreign key (SECTION_id) references SECTION;
alter table SECTION_SECTION add constraint FK2705274B80E1C474 foreign key (sections_id) references SECTION;
alter table SECTION_SECTION add constraint FK2705274B7871D45D foreign key (SECTION_id) references SECTION;
alter table USER_ROLE_MAPPING add constraint FKCD8035D9287C3FF7 foreign key (USER_ID) references USER;
alter table USER_ROLE_MAPPING add constraint FKCD8035D91B47205B foreign key (roles_id) references USER_ROLE;
